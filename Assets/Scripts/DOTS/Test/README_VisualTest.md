# Simple Visual Debug Test

## Overview

The **Simple Visual Debug Test** demonstrates the DOTS terrain system working visually by creating terrain entities and displaying them as 3D meshes. This test shows the complete data flow from DOTS → GPU → Visual representation.

## What It Demonstrates

✅ **DOTS Data Structures**: Creates terrain entities with blob assets  
✅ **GPU Buffer Management**: Uses ComputeBuffer for height data  
✅ **Visual Representation**: Generates 3D meshes from terrain data  
✅ **Performance Monitoring**: Tracks generation time and entity count  
✅ **Real-time Updates**: Dynamic color changes and mesh updates  

## How to Use

### Option 1: Automatic Setup (Recommended)

1. **Open any Unity scene** (or create a new one)
2. **Add the VisualTestSceneSetup component** to any GameObject
3. **Press Play** - everything will be set up automatically!

### Option 2: Manual Setup

1. **Add SimpleVisualDebugTest** to a GameObject
2. **Configure settings** in the inspector:
   - `testChunkCount`: Number of terrain chunks (default: 3)
   - `chunkResolution`: Vertices per chunk (default: 32)
   - `chunkSize`: World size of each chunk (default: 10)
   - `heightScale`: Height multiplier (default: 5)
   - `showHeightColors`: Enable color variation
   - `showWireframe`: Enable wireframe rendering

3. **Press Play** or use the context menu "Run Visual Debug Test"

## Camera Controls

The test includes a simple camera controller:

- **WASD**: Move camera
- **QE**: Move up/down
- **Right Mouse + Drag**: Rotate camera
- **Mouse Wheel**: Zoom in/out

## Expected Results

When you run the test, you should see:

1. **Console Output**: Detailed logs of the setup process
2. **3D Terrain Chunks**: Multiple colored terrain meshes
3. **Sine Wave Pattern**: Generated height data creates wave-like terrain
4. **Color Variation**: Each chunk has a different color
5. **Performance Info**: Generation time and entity count

## What You'll See

### Console Logs
```
=== SIMPLE VISUAL DEBUG TEST ===
Initializing managers...
✓ Managers initialized
Creating 3 test chunks...
✓ Created terrain chunk at (0, 0)
✓ Created terrain chunk at (1, 0)
✓ Created terrain chunk at (0, 1)
✓ Created 3 chunks in 45ms
Generating visual representation...
✓ Created visual for chunk (0, 0)
✓ Created visual for chunk (1, 0)
✓ Created visual for chunk (0, 1)
✓ Visual representation complete
=== VISUAL DEBUG INFO ===
Active Chunks: 3
Generation Time: 45ms
Chunk Resolution: 32
Chunk Size: 10
Height Scale: 5
Show Wireframe: False
Show Height Colors: True
========================
=== VISUAL DEBUG TEST COMPLETE ===
```

### Visual Output
- **Multiple terrain chunks** arranged in a grid
- **Wave-like height patterns** generated by sine functions
- **Color-coded chunks** for easy identification
- **3D meshes** with proper lighting and shadows

## Troubleshooting

### No Terrain Visible
- Check that the camera is positioned correctly
- Ensure lighting is set up properly
- Verify that `chunkSize` and `heightScale` are reasonable values

### Performance Issues
- Reduce `chunkResolution` for better performance
- Reduce `testChunkCount` for fewer chunks
- Check console for generation time warnings

### Missing Components
- The test will automatically create missing managers
- Check console for any error messages
- Ensure DOTS packages are properly installed

## Technical Details

### Data Flow
1. **DOTS Entity Creation**: `TerrainEntityManager` creates entities
2. **Height Data Generation**: CPU generates sine wave patterns
3. **GPU Buffer Upload**: Data uploaded to ComputeBuffer
4. **Mesh Generation**: 3D meshes created from height data
5. **Visual Rendering**: Unity renders the meshes

### Performance Metrics
- **Entity Count**: Number of active terrain entities
- **Generation Time**: Time to create all chunks and meshes
- **Memory Usage**: GPU buffer and mesh memory consumption

### Customization
You can modify the test to:
- Change height generation algorithms
- Add different biome types
- Implement real-time modifications
- Add more complex visual effects

## Next Steps

After running this test successfully, you can:

1. **Proceed to Phase 2**: Compute Shaders integration
2. **Add Real-time Effects**: Weather and erosion
3. **Implement Terrain Modification**: Player interaction
4. **Add Structure Generation**: WFC and buildings

This test validates that your DOTS infrastructure is working correctly and ready for the next phase of development! 